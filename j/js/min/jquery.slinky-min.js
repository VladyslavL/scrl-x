!function($,t,o){"use strict";var i="slinky",e=$.fn[i]=function(n){return n=$.extend({},e.options,n),this.each(function(){function e(){var t=$(this).scrollTop();d=t>g?"DOWN":"UP",g=t,$.each(p,function(t,o){var i="",e=o.$parent.position().top;if(i=e<=o.top+o.height/2?"top":e+o.height>=u-o.bottom?"bottom":"middle","top"==o.position&&"top"==i&&"UP"==d){o.$parent.css("paddingTop",""),o.$back.css({display:"block",height:o.height,background:o.$.css("background-color")});var n={};n[i]=o[i],o.$.animate(n,{duration:40,queue:!1})}if(i&&"middle"!=i){if(o.position!=i&&(o.$parent.css("paddingTop",o.height),o.$.css("position","absolute").css(i,"top"==i?o.$parent.position().top:o[i]).css("top"==i?"bottom":"top",""),o.position=i,"top"==i)){var n={};n[i]=o[i],o.$.animate(n,{duration:100,queue:!1})}}else("top"!=o.position||"top"!=i)&&o.$back.hide(),o.$parent.css("paddingTop",""),o.$.css("position",""),o.position=i;if("bottom"==i&&"bottom"==o.position){var s=i;o.$parent.css("paddingTop",o.height),o.$.css("position","absolute").css("top"==i?"bottom":"top",""),o.position=i;var n={};n[i]=o[s],o.$.animate(n,{duration:40,queue:!1})}})}function n(){u=r.outerHeight(),p=[],c=r.children(),c.each(function(){var t=$(this),o=t.children().first();o.css("width",t.width()),p.push({$:o,$parent:t,$back:t.find(".back-header"),height:o.outerHeight(),position:""}),o.hover(function(){s($(this)),e()},function(){s(),e()})}),$.each(p,function(t,o){o.top=t>0?p[t-1].top+p[t-1].height/2:0;var i=p.length-t-1;p[i].bottom=i<p.length-1?p[i+1].bottom+p[i+1].height/2:-p[i].height/2,p[i].bottomFull=i<p.length-1?p[i+1].bottomFull+p[i+1].height:0}),e()}function s(t){var o=!1;$.each(p,function(i,e){t&&e.$[0]===t[0]?(e.top=i>0?p[i-1].top+p[i-1].height/2:0,o=!0):(e.top=i>0?p[i-1].top+(o?p[i-1].height:p[i-1].height/2):0,o=!1);var n=p.length-i-1;t&&p[n].$[0]===t[0]?p[n].bottom=n<p.length-1?p[n+1].bottom+p[n+1].height:0:p[n].bottom=n<p.length-1?p[n+1].bottom+p[n+1].height/2:-p[n].height/2,p[n].bottomFull=n<p.length-1?p[n+1].bottomFull+p[n+1].height:0})}function h(){c.css("pointer-events",""),l=o}var a=$(this);if(!a.data(i)){a.data(i,!0);var r=a.children().first(),c,p,u,l,g=0,d="UP";n(),r.on("wheel."+i,function(){l?clearTimeout(l):c.css("pointer-events","none"),l=setTimeout(h,100)}).on("scroll."+i,e),$(t).on("resize."+i,n);var b=t.MutationObserver||t.WebKitMutationObserver;if(b){var f=new b(n);f.observe(r[0],{childList:!0,characterData:!0,subtree:!0})}a.on("remove."+i,function(){r.off("wheel."+i+" scroll."+i),$(t).off("resize."+i,n),f&&f.disconnect()})}})}}(jQuery,window);